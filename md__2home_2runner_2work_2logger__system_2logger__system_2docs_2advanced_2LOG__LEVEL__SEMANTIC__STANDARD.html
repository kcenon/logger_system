<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Logger System: Log Level Semantic Standard</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Logger System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance C++20 thread-safe logging system with asynchronous capabilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__2home_2runner_2work_2logger__system_2logger__system_2docs_2advanced_2LOG__LEVEL__SEMANTIC__STANDARD.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Log Level Semantic Standard</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md322"></a> <b>Date</b>: 2025-11-08 <b>Status</b>: Approved for Implementation <b>Affects</b>: logger_system, thread_system</p>
<hr  />
<h1><a class="anchor" id="autotoc_md324"></a>
Problem Statement</h1>
<p>Currently, there is an inconsistency in log level semantics between logger_system and thread_system:</p>
<h2><a class="anchor" id="autotoc_md325"></a>
logger_system (Ascending: Low → High)</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> log_level {</div>
<div class="line">    trace = 0,     <span class="comment">// Most verbose</span></div>
<div class="line">    debug = 1,</div>
<div class="line">    info = 2,</div>
<div class="line">    warn = 3,</div>
<div class="line">    error = 4,</div>
<div class="line">    fatal = 5      <span class="comment">// Least verbose, most critical</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Comparison: msg_level &gt;= min_level</span></div>
<div class="line"><span class="comment">// Example: To log errors and above, set min_level = error (4)</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md326"></a>
thread_system (Descending: High → Low)</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> log_level {</div>
<div class="line">    critical = 0,  <span class="comment">// Most critical, least verbose</span></div>
<div class="line">    error = 1,</div>
<div class="line">    warning = 2,</div>
<div class="line">    info = 3,</div>
<div class="line">    debug = 4,</div>
<div class="line">    trace = 5      <span class="comment">// Least critical, most verbose</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Comparison: msg_level &lt;= max_level</span></div>
<div class="line"><span class="comment">// Example: To log errors and above, set max_level = error (1)</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md327"></a>
Impact</h2>
<ol type="1">
<li><b>Confusing API</b>: Different comparison logic for same semantic meaning</li>
<li><b>Integration Complexity</b>: Requires constant value mapping in adapters</li>
<li><b>Error-Prone</b>: Easy to use wrong threshold in cross-system code</li>
<li><b>Maintenance Burden</b>: Duplicate documentation and examples</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md329"></a>
Decision</h1>
<p><b>We adopt the ASCENDING semantic (Low → High) as the standard across all systems.</b></p>
<div class="fragment"><div class="line"><span class="comment">// Standard Log Level Enumeration</span></div>
<div class="line"><span class="keyword">enum class</span> log_level {</div>
<div class="line">    trace = 0,     <span class="comment">// Most verbose, least important</span></div>
<div class="line">    debug = 1,</div>
<div class="line">    info = 2,</div>
<div class="line">    warn = 3,</div>
<div class="line">    error = 4,</div>
<div class="line">    fatal = 5,     <span class="comment">// Least verbose, most important</span></div>
<div class="line">    off = 6        <span class="comment">// Logging disabled</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md330"></a>
Rationale</h2>
<ol type="1">
<li><b>Industry Standard</b>: Most logging frameworks use ascending order<ul>
<li>syslog: DEBUG(7) &lt; ERROR(3)</li>
<li>Python logging: DEBUG(10) &lt; ERROR(40)</li>
<li>Java log4j: DEBUG &lt; ERROR</li>
<li>spdlog (C++): trace(0) &lt; critical(6)</li>
</ul>
</li>
<li><b>Natural Comparison</b>: Higher number = Higher severity <div class="fragment"><div class="line"><span class="keywordflow">if</span> (message_level &gt;= configured_min_level) {</div>
<div class="line">    log(message);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Existing Adoption</b>: logger_system already uses this semantic<ul>
<li>Less breaking change overall</li>
<li>Common patterns already established</li>
</ul>
</li>
<li><b>Consistent with Syslog RFC 5424</b>: Standard severity levels</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md332"></a>
Migration Plan</h1>
<h2><a class="anchor" id="autotoc_md333"></a>
Phase 1: Documentation (Sprint 1 - Current)</h2>
<ul>
<li>[x] Write this standard document</li>
<li>[ ] Update logger_system documentation to emphasize standard</li>
<li>[ ] Create thread_system migration guide</li>
</ul>
<h2><a class="anchor" id="autotoc_md334"></a>
Phase 2: thread_system Unification (Sprint 2)</h2>
<ul>
<li>[ ] Update thread_system <code>log_level</code> enum to ascending order</li>
<li>[ ] Update all comparison logic (&gt;= instead of &lt;=)</li>
<li>[ ] Add compatibility layer for deprecation period</li>
<li>[ ] Update thread_system tests</li>
</ul>
<h2><a class="anchor" id="autotoc_md335"></a>
Phase 3: Adapter Simplification (Sprint 3)</h2>
<ul>
<li>[ ] Remove value mapping from log level adapters</li>
<li>[ ] Direct type alias: <code>using log_level = common::log_level;</code></li>
<li>[ ] Verify all integration tests pass</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md337"></a>
Implementation Details</h1>
<h2><a class="anchor" id="autotoc_md338"></a>
Standard Definition (logger_system - already compliant)</h2>
<div class="fragment"><div class="line"><span class="comment">// include/kcenon/logger/types/logger_types.h</span></div>
<div class="line"><span class="keyword">namespace </span>kcenon::logger {</div>
<div class="line">    <span class="keyword">enum class</span> log_level : uint8_t {</div>
<div class="line">        trace = 0,</div>
<div class="line">        debug = 1,</div>
<div class="line">        info = 2,</div>
<div class="line">        warn = 3,</div>
<div class="line">        error = 4,</div>
<div class="line">        fatal = 5,</div>
<div class="line">        off = 6</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Standard comparison for filtering</span></div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> should_log(log_level message_level, log_level min_level) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(message_level) &gt;= <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(min_level);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// String conversion</span></div>
<div class="line">    <span class="keyword">constexpr</span> std::string_view to_string(log_level level) {</div>
<div class="line">        <span class="keywordflow">switch</span> (level) {</div>
<div class="line">            <span class="keywordflow">case</span> log_level::trace: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TRACE&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::debug: <span class="keywordflow">return</span> <span class="stringliteral">&quot;DEBUG&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::info:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;INFO&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::warn:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;WARN&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::error: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ERROR&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::fatal: <span class="keywordflow">return</span> <span class="stringliteral">&quot;FATAL&quot;</span>;</div>
<div class="line">            <span class="keywordflow">case</span> log_level::off:   <span class="keywordflow">return</span> <span class="stringliteral">&quot;OFF&quot;</span>;</div>
<div class="line">            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md339"></a>
thread_system Changes (Sprint 2)</h2>
<div class="fragment"><div class="line"><span class="comment">// include/kcenon/thread/core/logging.h (UPDATED)</span></div>
<div class="line"><span class="keyword">namespace </span>kcenon::thread {</div>
<div class="line">    <span class="comment">// OLD (Deprecated)</span></div>
<div class="line">    <span class="keyword">enum class</span> log_level_legacy {</div>
<div class="line">        critical = 0,</div>
<div class="line">        error = 1,</div>
<div class="line">        warning = 2,</div>
<div class="line">        info = 3,</div>
<div class="line">        debug = 4,</div>
<div class="line">        trace = 5</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// NEW (Standard)</span></div>
<div class="line">    <span class="keyword">enum class</span> log_level {</div>
<div class="line">        trace = 0,</div>
<div class="line">        debug = 1,</div>
<div class="line">        info = 2,</div>
<div class="line">        warn = 3,</div>
<div class="line">        error = 4,</div>
<div class="line">        critical = 5,  <span class="comment">// Renamed from &#39;fatal&#39; to match existing naming</span></div>
<div class="line">        off = 6</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Compatibility helper (temporary)</span></div>
<div class="line">    [[deprecated(<span class="stringliteral">&quot;Use log_level instead. Will be removed in next major version&quot;</span>)]]</div>
<div class="line">    <span class="keyword">constexpr</span> log_level from_legacy(log_level_legacy old_level) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>log_level<span class="keyword">&gt;</span>(5 - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(old_level));</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md340"></a>
Adapter Simplification (Sprint 3)</h2>
<div class="fragment"><div class="line"><span class="comment">// Before (complex mapping)</span></div>
<div class="line"><span class="keyword">namespace </span>adapters {</div>
<div class="line">    log_level to_logger_level(thread::log_level thread_level) {</div>
<div class="line">        <span class="comment">// Requires mapping: critical(0) -&gt; fatal(5), etc.</span></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>log_level<span class="keyword">&gt;</span>(5 - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(thread_level));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// After (direct usage)</span></div>
<div class="line"><span class="keyword">namespace </span>kcenon::thread {</div>
<div class="line">    <span class="keyword">using </span>log_level = logger::log_level;  <span class="comment">// Type alias, no conversion needed</span></div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md342"></a>
Compatibility Considerations</h1>
<h2><a class="anchor" id="autotoc_md343"></a>
Breaking Change Assessment</h2>
<ul>
<li><b>logger_system</b>: No breaking changes (already compliant)</li>
<li><b>thread_system</b>: <b>BREAKING CHANGE</b> in next major version<ul>
<li>All <code>log_level</code> enum values change</li>
<li>Comparison operators reversed</li>
<li>Serialized log level values incompatible</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md344"></a>
Mitigation Strategy</h2>
<ol type="1">
<li><b>Deprecation Period</b>: Minimum 6 months</li>
<li><b>Dual Support</b>: Both old and new enums available during transition</li>
<li><b>Compile-Time Warnings</b>: Mark old enum as <code>[[deprecated]]</code></li>
<li><b>Migration Tool</b>: Automated code scanner to find usages</li>
<li><b>Documentation</b>: Clear migration guide with examples</li>
</ol>
<h2><a class="anchor" id="autotoc_md345"></a>
User Impact</h2>
<p><b>Low Impact</b> - Most users interact via helper functions, not raw enums: </p><div class="fragment"><div class="line"><span class="comment">// Common usage pattern (unaffected by enum ordering)</span></div>
<div class="line">logger-&gt;info(<span class="stringliteral">&quot;Message&quot;</span>);      <span class="comment">// Not: logger-&gt;log(log_level::info, &quot;Message&quot;);</span></div>
<div class="line">logger-&gt;set_level(<span class="stringliteral">&quot;ERROR&quot;</span>);   <span class="comment">// Not: logger-&gt;set_level(log_level::error);</span></div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md347"></a>
Testing Requirements</h1>
<h2><a class="anchor" id="autotoc_md348"></a>
Unit Tests</h2>
<ul>
<li>[ ] Verify log level comparisons</li>
<li>[ ] Test <code>should_log()</code> function correctness</li>
<li>[ ] Validate string conversions</li>
</ul>
<h2><a class="anchor" id="autotoc_md349"></a>
Integration Tests</h2>
<ul>
<li>[ ] logger_system ↔ thread_system level mapping</li>
<li>[ ] Serialization/deserialization consistency</li>
<li>[ ] Configuration file parsing</li>
</ul>
<h2><a class="anchor" id="autotoc_md350"></a>
Regression Tests</h2>
<ul>
<li>[ ] Ensure existing behavior unchanged in logger_system</li>
<li>[ ] Verify thread_system compatibility layer works</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md352"></a>
Documentation Updates Required</h1>
<ol type="1">
<li><b>README.md</b> (both systems)<ul>
<li>Add log level semantic explanation</li>
<li>Link to this standard document</li>
</ul>
</li>
<li><b>API Reference</b><ul>
<li>Update log level enum documentation</li>
<li>Clarify comparison semantics</li>
</ul>
</li>
<li><b>Migration Guide</b> (thread_system)<ul>
<li>Step-by-step upgrade instructions</li>
<li>Code examples before/after</li>
<li>FAQ for common issues</li>
</ul>
</li>
<li><b>Examples</b><ul>
<li>Update all code samples to use new semantic</li>
<li>Add migration example</li>
</ul>
</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md354"></a>
Success Criteria</h1>
<ul>
<li>[ ] Single log level semantic across all systems</li>
<li>[ ] Zero value mapping overhead in adapters</li>
<li>[ ] All tests passing with new semantic</li>
<li>[ ] Documentation updated and reviewed</li>
<li>[ ] No regression in existing logger_system behavior</li>
<li>[ ] Smooth migration path for thread_system users</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md356"></a>
Timeline</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Phase   </th><th class="markdownTableHeadNone">Duration   </th><th class="markdownTableHeadNone">Tasks   </th><th class="markdownTableHeadNone">Status    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Phase 1</b>   </td><td class="markdownTableBodyNone">Week 1-2   </td><td class="markdownTableBodyNone">Document standard, update logger_system docs   </td><td class="markdownTableBodyNone">✅ In Progress    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Phase 2</b>   </td><td class="markdownTableBodyNone">Week 3-4   </td><td class="markdownTableBodyNone">Implement thread_system changes, add deprecation   </td><td class="markdownTableBodyNone">Pending    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Phase 3</b>   </td><td class="markdownTableBodyNone">Week 5-6   </td><td class="markdownTableBodyNone">Simplify adapters, integration testing   </td><td class="markdownTableBodyNone">Pending    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Deprecation</b>   </td><td class="markdownTableBodyNone">6 months   </td><td class="markdownTableBodyNone">Support both old and new enums   </td><td class="markdownTableBodyNone">Pending    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Cleanup</b>   </td><td class="markdownTableBodyNone">Next major   </td><td class="markdownTableBodyNone">Remove deprecated enums and code   </td><td class="markdownTableBodyNone">Pending   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md358"></a>
References</h1>
<ul>
<li><a href="https://tools.ietf.org/html/rfc5424">RFC 5424: The Syslog Protocol</a> - Section 6.2.1 Severity</li>
<li><a href="https://github.com/gabime/spdlog">spdlog Logging Levels</a> - Industry standard C++ logger</li>
<li><a href="../IMPROVEMENT_PLAN.md#1-dual-log-level-semantics">logger_system IMPROVEMENT_PLAN.md</a></li>
<li><a href="../../thread_system/IMPROVEMENT_PLAN.md#5-log-level-enumeration-mismatch">thread_system IMPROVEMENT_PLAN.md</a></li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md360"></a>
Approval</h1>
<p><b>Lead Architect</b>: [Approved - 2025-11-08] <b>logger_system Owner</b>: [Approved - 2025-11-08] <b>thread_system Owner</b>: [Pending Coordination]</p>
<hr  />
<p><b>Next Review</b>: 2025-12-08 (after Sprint 2 implementation) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Dec 6 2025 08:13:50 for Logger System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
