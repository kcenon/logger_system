<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Logger System: MIGRATION_GUIDE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Logger System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance C++20 thread-safe logging system with asynchronous capabilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__2home_2runner_2work_2logger__system_2logger__system_2docs_2guides_2MIGRATION__GUIDE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">MIGRATION_GUIDE</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>&zwj;<b>Language:</b> <b>English</b> | <a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2guides_2MIGRATION__GUIDE_8kr.html">한국어</a> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md1550"></a>
Logger System Migration Guide</h1>
<p><b>Version</b>: 0.4.0.0 <b>Last Updated</b>: 2026-01-23</p>
<h2><a class="anchor" id="autotoc_md1551"></a>
Table of Contents</h2>
<ol type="1">
<li>Overview</li>
<li>CMake Configuration Changes</li>
<li>Version Migration<ul>
<li>From v3.x to v4.0</li>
<li>From v2.x to v3.0</li>
<li>From v1.x to v2.x</li>
</ul>
</li>
<li>API Changes<ul>
<li>Unified Context API</li>
</ul>
</li>
<li>Configuration Migration</li>
<li>Migration from Other Libraries</li>
<li>Compatibility Wrappers</li>
<li>Step-by-Step Migration</li>
<li>Common Issues and Solutions</li>
</ol>
<h2><a class="anchor" id="autotoc_md1552"></a>
Overview</h2>
<p>This guide helps you migrate to Logger System from:</p><ul>
<li>Earlier versions of Logger System (v3.x to v4.0, v2.x to v3.0, v1.x to v2.x)</li>
<li>Other popular logging libraries (spdlog, Boost.Log, glog, log4cpp)</li>
<li>Custom logging solutions</li>
</ul>
<h3><a class="anchor" id="autotoc_md1553"></a>
Breaking Changes Summary</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Version   </th><th class="markdownTableHeadNone">Component   </th><th class="markdownTableHeadNone">Change   </th><th class="markdownTableHeadNone">Impact    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>v4.0</b>   </td><td class="markdownTableBodyNone">Writers   </td><td class="markdownTableBodyNone">Decorator pattern architecture   </td><td class="markdownTableBodyNone"><b>High</b> for custom writers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>v4.0</b>   </td><td class="markdownTableBodyNone">Context IDs   </td><td class="markdownTableBodyNone">Convenience methods removed   </td><td class="markdownTableBodyNone">Medium    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>v4.0</b>   </td><td class="markdownTableBodyNone">Context API   </td><td class="markdownTableBodyNone">Unified <code>context()</code> method replaces 3 separate APIs   </td><td class="markdownTableBodyNone">Medium    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>v3.0</b>   </td><td class="markdownTableBodyNone">Namespace   </td><td class="markdownTableBodyNone"><code>logger_module</code> → <code>kcenon::logger</code>   </td><td class="markdownTableBodyNone"><b>High</b>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>v3.0</b>   </td><td class="markdownTableBodyNone">Interface   </td><td class="markdownTableBodyNone">Implements <code>common::interfaces::ILogger</code>   </td><td class="markdownTableBodyNone"><b>High</b>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>v3.0</b>   </td><td class="markdownTableBodyNone">Dependencies   </td><td class="markdownTableBodyNone">thread_system now optional   </td><td class="markdownTableBodyNone">Medium    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>v3.0</b>   </td><td class="markdownTableBodyNone">C++ Standard   </td><td class="markdownTableBodyNone">Requires C++20   </td><td class="markdownTableBodyNone">Medium    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>v3.0</b>   </td><td class="markdownTableBodyNone">Result Types   </td><td class="markdownTableBodyNone">Uses <code>common::VoidResult</code>   </td><td class="markdownTableBodyNone">Medium    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">v2.0   </td><td class="markdownTableBodyNone">Error Handling   </td><td class="markdownTableBodyNone">Exceptions → Result types   </td><td class="markdownTableBodyNone">High    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">v2.0   </td><td class="markdownTableBodyNone">Memory Management   </td><td class="markdownTableBodyNone">Raw pointers → Smart pointers   </td><td class="markdownTableBodyNone">High    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">v2.0   </td><td class="markdownTableBodyNone">Configuration   </td><td class="markdownTableBodyNone">Direct setters → Builder pattern   </td><td class="markdownTableBodyNone">Medium   </td></tr>
</table>
<hr  />
<h2><a class="anchor" id="autotoc_md1555"></a>
From v3.x to v4.0</h2>
<p>Version 4.0 introduces a decorator pattern-based writer architecture. This primarily affects users with <b>custom writer implementations</b>.</p>
<h3><a class="anchor" id="autotoc_md1556"></a>
What Changed</h3>
<ol type="1">
<li><b>Decorator Pattern Writers</b>: Cross-cutting concerns (filtering, buffering, formatting) are now separate decorator classes</li>
<li><b>Context ID API Simplification</b>: Specialized context ID methods removed in favor of generic API</li>
<li><b>New Writer Components</b>: <code>decorator_writer_base</code>, <code>filtered_writer</code>, <code>buffered_writer</code>, <code>formatted_writer</code></li>
</ol>
<h3><a class="anchor" id="autotoc_md1557"></a>
Migration for Standard Users</h3>
<p><b>No changes required</b> if you only use built-in writers via <code>logger_builder</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// This code works unchanged in v4.0</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .add_writer(<span class="stringliteral">&quot;console&quot;</span>, std::make_unique&lt;console_writer&gt;())</div>
<div class="line">    .add_writer(<span class="stringliteral">&quot;file&quot;</span>, std::make_unique&lt;file_writer&gt;(<span class="stringliteral">&quot;app.log&quot;</span>))</div>
<div class="line">    .with_min_level(log_level::info)</div>
<div class="line">    .build();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1558"></a>
Migration for Custom Writer Authors</h3>
<p>If you have custom writer implementations, see the detailed <a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2guides_2DECORATOR__MIGRATION.html">Decorator Migration Guide</a>.</p>
<p><b>Quick summary:</b></p>
<div class="fragment"><div class="line"><span class="comment">// v3.x: Monolithic custom writer</span></div>
<div class="line"><span class="keyword">class </span>my_writer : <span class="keyword">public</span> base_writer {</div>
<div class="line">    common::VoidResult write(<span class="keyword">const</span> log_entry&amp; entry)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">if</span> (!should_log(entry)) <span class="keywordflow">return</span> {};  <span class="comment">// Filtering (remove this)</span></div>
<div class="line">        <span class="keyword">auto</span> formatted = format(entry);      <span class="comment">// Formatting (remove this)</span></div>
<div class="line">        buffer_.push(formatted);             <span class="comment">// Buffering (remove this)</span></div>
<div class="line">        <span class="keywordflow">return</span> do_output(formatted);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v4.0: Focused leaf writer + decorators</span></div>
<div class="line"><span class="keyword">class </span>my_writer : <span class="keyword">public</span> thread_safe_writer {</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    common::VoidResult write_entry_impl(<span class="keyword">const</span> log_entry&amp; entry)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> do_output(entry);  <span class="comment">// Only destination logic</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Compose with decorators</span></div>
<div class="line"><span class="keyword">auto</span> writer = std::make_unique&lt;formatted_writer&gt;(</div>
<div class="line">    std::make_unique&lt;buffered_writer&gt;(</div>
<div class="line">        std::make_unique&lt;filtered_writer&gt;(</div>
<div class="line">            std::make_unique&lt;my_writer&gt;(),</div>
<div class="line">            std::make_unique&lt;level_filter&gt;(log_level::info)</div>
<div class="line">        ),</div>
<div class="line">        buffered_writer::config{}</div>
<div class="line">    ),</div>
<div class="line">    std::make_unique&lt;json_formatter&gt;()</div>
<div class="line">);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1559"></a>
Context ID API Changes</h3>
<div class="fragment"><div class="line"><span class="comment">// v3.x (removed):</span></div>
<div class="line">logger-&gt;set_trace_id(<span class="stringliteral">&quot;abc123&quot;</span>);</div>
<div class="line">logger-&gt;set_span_id(<span class="stringliteral">&quot;def456&quot;</span>);</div>
<div class="line">logger-&gt;clear_trace_id();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// v4.0:</span></div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;trace_id&quot;</span>, <span class="stringliteral">&quot;abc123&quot;</span>);</div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;span_id&quot;</span>, <span class="stringliteral">&quot;def456&quot;</span>);</div>
<div class="line">logger-&gt;clear_context_id(<span class="stringliteral">&quot;trace_id&quot;</span>);</div>
<div class="line"><span class="comment">// Or clear all: logger-&gt;clear_all_context_ids();</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1560"></a>
Unified Context API (New in v4.0)</h3>
<p>Version 4.0 introduces the <code>unified_log_context</code> class that consolidates all context management into a single, type-safe API. The previous three overlapping APIs (<code>set_context()</code>, <code>set_context_id()</code>, <code>set_otel_context()</code>) are now deprecated in favor of the new <code>context()</code> method.</p>
<h4><a class="anchor" id="autotoc_md1561"></a>
Why This Change?</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Issue   </th><th class="markdownTableHeadNone">Impact    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Confusion</b>: When to use which API?   </td><td class="markdownTableBodyNone">Developer friction    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Duplication</b>: <code>trace_id</code> settable via all 3 APIs   </td><td class="markdownTableBodyNone">Inconsistent state    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Maintenance</b>: 3 storage mechanisms   </td><td class="markdownTableBodyNone">Code complexity    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Testing</b>: Must test all 3 paths   </td><td class="markdownTableBodyNone">Test burden   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md1562"></a>
Migration Table</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Deprecated API   </th><th class="markdownTableHeadNone">New API   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>set_context(key, value)</code>   </td><td class="markdownTableBodyNone"><code>context().set(key, value)</code>   </td><td class="markdownTableBodyNone">For custom fields    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>remove_context(key)</code>   </td><td class="markdownTableBodyNone"><code>context().remove(key)</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>clear_context()</code>   </td><td class="markdownTableBodyNone"><code>context().clear()</code>   </td><td class="markdownTableBodyNone">Clears all categories    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>has_context()</code>   </td><td class="markdownTableBodyNone"><code>!context().empty()</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>get_context()</code>   </td><td class="markdownTableBodyNone"><code>context().to_fields()</code>   </td><td class="markdownTableBodyNone">Returns <code>log_fields</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>set_context_id(key, value)</code>   </td><td class="markdownTableBodyNone"><code>context().set(key, value, context_category::trace)</code>   </td><td class="markdownTableBodyNone">For trace/request IDs    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>get_context_id(key)</code>   </td><td class="markdownTableBodyNone"><code>context().get_string(key)</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>clear_context_id(key)</code>   </td><td class="markdownTableBodyNone"><code>context().remove(key)</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>has_context_id(key)</code>   </td><td class="markdownTableBodyNone"><code>context().has(key)</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>clear_all_context_ids()</code>   </td><td class="markdownTableBodyNone"><code>context().clear(context_category::trace)</code>   </td><td class="markdownTableBodyNone">Clears only trace category    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>set_otel_context(ctx)</code>   </td><td class="markdownTableBodyNone"><code>context().set_otel(ctx)</code>   </td><td class="markdownTableBodyNone">OpenTelemetry context    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>get_otel_context()</code>   </td><td class="markdownTableBodyNone">Query individual fields via <code>context().get_string()</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>clear_otel_context()</code>   </td><td class="markdownTableBodyNone"><code>context().clear(context_category::otel)</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>has_otel_context()</code>   </td><td class="markdownTableBodyNone"><code>context().has("otel_trace_id")</code>   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<h4><a class="anchor" id="autotoc_md1563"></a>
Context Categories</h4>
<p>The unified API organizes context into categories:</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> context_category {</div>
<div class="line">    custom,   <span class="comment">// User-defined fields (default)</span></div>
<div class="line">    trace,    <span class="comment">// Distributed tracing (trace_id, span_id, parent_span_id)</span></div>
<div class="line">    request,  <span class="comment">// Request metadata (request_id, correlation_id)</span></div>
<div class="line">    otel      <span class="comment">// OpenTelemetry specific (otel_trace_id, otel_span_id, etc.)</span></div>
<div class="line">};</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1564"></a>
Code Examples</h4>
<p><b>Setting Custom Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">logger-&gt;set_context(<span class="stringliteral">&quot;user_id&quot;</span>, int64_t{12345});</div>
<div class="line">logger-&gt;set_context(<span class="stringliteral">&quot;session_active&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW</span></div>
<div class="line">logger-&gt;context().set(<span class="stringliteral">&quot;user_id&quot;</span>, int64_t{12345});</div>
<div class="line">logger-&gt;context().set(<span class="stringliteral">&quot;session_active&quot;</span>, <span class="keyword">true</span>);</div>
</div><!-- fragment --><p><b>Setting Trace Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;trace_id&quot;</span>, <span class="stringliteral">&quot;0af7651916cd43dd8448eb211c80319c&quot;</span>);</div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;span_id&quot;</span>, <span class="stringliteral">&quot;b7ad6b7169203331&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line">logger-&gt;context().set_trace(<span class="stringliteral">&quot;0af7651916cd43dd8448eb211c80319c&quot;</span>, <span class="stringliteral">&quot;b7ad6b7169203331&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or with parent span</span></div>
<div class="line">logger-&gt;context().set_trace(<span class="stringliteral">&quot;trace_id&quot;</span>, <span class="stringliteral">&quot;span_id&quot;</span>, <span class="stringliteral">&quot;parent_span_id&quot;</span>);</div>
</div><!-- fragment --><p><b>Setting Request Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;request_id&quot;</span>, <span class="stringliteral">&quot;req-123&quot;</span>);</div>
<div class="line">logger-&gt;set_context_id(<span class="stringliteral">&quot;correlation_id&quot;</span>, <span class="stringliteral">&quot;corr-456&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line">logger-&gt;context().set_request(<span class="stringliteral">&quot;req-123&quot;</span>, <span class="stringliteral">&quot;corr-456&quot;</span>);</div>
</div><!-- fragment --><p><b>Setting OpenTelemetry Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">otlp::otel_context otel_ctx{</div>
<div class="line">    .trace_id = <span class="stringliteral">&quot;0af7651916cd43dd8448eb211c80319c&quot;</span>,</div>
<div class="line">    .span_id = <span class="stringliteral">&quot;b7ad6b7169203331&quot;</span>,</div>
<div class="line">    .trace_flags = <span class="stringliteral">&quot;01&quot;</span></div>
<div class="line">};</div>
<div class="line">logger-&gt;set_otel_context(otel_ctx);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line">logger-&gt;context().set_otel(otel_ctx);</div>
</div><!-- fragment --><p><b>Clearing Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">logger-&gt;clear_context();           <span class="comment">// Clear all custom fields</span></div>
<div class="line">logger-&gt;clear_all_context_ids();   <span class="comment">// Clear all trace IDs</span></div>
<div class="line">logger-&gt;clear_otel_context();      <span class="comment">// Clear OTEL context</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line">logger-&gt;context().clear();                          <span class="comment">// Clear everything</span></div>
<div class="line">logger-&gt;context().clear(context_category::custom);  <span class="comment">// Clear only custom fields</span></div>
<div class="line">logger-&gt;context().clear(context_category::trace);   <span class="comment">// Clear only trace context</span></div>
<div class="line">logger-&gt;context().clear(context_category::otel);    <span class="comment">// Clear only OTEL context</span></div>
</div><!-- fragment --><p><b>Querying Context:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line">std::string trace_id = logger-&gt;get_context_id(<span class="stringliteral">&quot;trace_id&quot;</span>);</div>
<div class="line"><span class="keywordtype">bool</span> has_trace = logger-&gt;has_context_id(<span class="stringliteral">&quot;trace_id&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line">std::string trace_id = logger-&gt;context().get_string(<span class="stringliteral">&quot;trace_id&quot;</span>);</div>
<div class="line"><span class="keywordtype">bool</span> has_trace = logger-&gt;context().has(<span class="stringliteral">&quot;trace_id&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Type-safe access</span></div>
<div class="line"><span class="keyword">auto</span> user_id = logger-&gt;context().get_as&lt;int64_t&gt;(<span class="stringliteral">&quot;user_id&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (user_id) {</div>
<div class="line">    <span class="comment">// Use *user_id</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Method Chaining:</b></p>
<div class="fragment"><div class="line"><span class="comment">// The new API supports fluent chaining</span></div>
<div class="line">logger-&gt;context()</div>
<div class="line">    .set(<span class="stringliteral">&quot;user_id&quot;</span>, int64_t{12345})</div>
<div class="line">    .set_trace(<span class="stringliteral">&quot;trace-abc&quot;</span>, <span class="stringliteral">&quot;span-123&quot;</span>)</div>
<div class="line">    .set_request(<span class="stringliteral">&quot;req-456&quot;</span>, <span class="stringliteral">&quot;corr-789&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// All subsequent logs include the context</span></div>
<div class="line">logger-&gt;log_structured(log_level::info)</div>
<div class="line">    .message(<span class="stringliteral">&quot;Processing request&quot;</span>)</div>
<div class="line">    .emit();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1565"></a>
Thread Safety</h4>
<p>The <code>unified_log_context</code> class is thread-safe internally:</p><ul>
<li>Read operations use shared locks</li>
<li>Write operations use exclusive locks</li>
<li>No external synchronization required</li>
</ul>
<h4><a class="anchor" id="autotoc_md1566"></a>
Migration Script</h4>
<div class="fragment"><div class="line">#!/bin/bash</div>
<div class="line"># migrate_context_api.sh</div>
<div class="line"> </div>
<div class="line"># Migrate set_context to context().set</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s/-&gt;set_context(\&zwj;([^,]*\&zwj;), /-&gt;context().set(\1, /g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;remove_context(/-&gt;context().remove(/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;clear_context()/-&gt;context().clear()/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;has_context()/!context().empty()/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;get_context()/-&gt;context().to_fields()/g&#39;</div>
<div class="line"> </div>
<div class="line"># Migrate set_context_id to context().set with category</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s/-&gt;set_context_id(\&zwj;([^,]*\&zwj;), \&zwj;([^)]*\&zwj;))/-&gt;context().set(\1, \2, context_category::trace)/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;get_context_id(/-&gt;context().get_string(/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;clear_context_id(/-&gt;context().remove(/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;has_context_id(/-&gt;context().has(/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;clear_all_context_ids()/-&gt;context().clear(context_category::trace)/g&#39;</div>
<div class="line"> </div>
<div class="line"># Migrate OTEL context</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s/-&gt;set_otel_context(/-&gt;context().set_otel(/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;clear_otel_context()/-&gt;context().clear(context_category::otel)/g&#39; \</div>
<div class="line">    -e &#39;s/-&gt;has_otel_context()/-&gt;context().has(&quot;otel_trace_id&quot;)/g&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1567"></a>
Deprecation Timeline</h4>
<ul>
<li><b>v4.0 (Current)</b>: Old APIs marked with <code>[[deprecated]]</code> - compiler warnings generated</li>
<li><b>v5.0 (Future)</b>: Deprecated APIs will be removed</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md1569"></a>
CMake Configuration Changes</h2>
<h3><a class="anchor" id="autotoc_md1570"></a>
v2.x (Previous)</h3>
<div class="fragment"><div class="line"># CMakeLists.txt for v2.x</div>
<div class="line">find_package(thread_system REQUIRED)  # Was required</div>
<div class="line">find_package(logger_system REQUIRED)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(your_app PRIVATE</div>
<div class="line">    thread_system::thread_system</div>
<div class="line">    logger_system::logger_system</div>
<div class="line">)</div>
</div><!-- fragment --><div class="fragment"><div class="line"># Build flags for v2.x</div>
<div class="line">cmake -DUSE_THREAD_SYSTEM=ON ..  # Old flag name</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1571"></a>
v3.0 (Current)</h3>
<div class="fragment"><div class="line"># CMakeLists.txt for v3.0</div>
<div class="line">find_package(common_system REQUIRED)  # New required dependency</div>
<div class="line">find_package(logger_system REQUIRED)</div>
<div class="line"># find_package(thread_system)  # Optional now</div>
<div class="line"> </div>
<div class="line">target_link_libraries(your_app PRIVATE</div>
<div class="line">    kcenon::common</div>
<div class="line">    kcenon::logger</div>
<div class="line">    # kcenon::thread  # Optional</div>
<div class="line">)</div>
</div><!-- fragment --><div class="fragment"><div class="line"># Build flags for v3.0</div>
<div class="line">cmake -DLOGGER_USE_THREAD_SYSTEM=ON ..   # New flag name (optional)</div>
<div class="line">cmake -DLOGGER_STANDALONE_MODE=ON ..     # Standalone mode (default)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1572"></a>
CMake Flag Changes Summary</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">v2.x Flag   </th><th class="markdownTableHeadNone">v3.0 Flag   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_THREAD_SYSTEM=ON</code>   </td><td class="markdownTableBodyNone"><code>LOGGER_USE_THREAD_SYSTEM=ON</code>   </td><td class="markdownTableBodyNone"><code>OFF</code>   </td><td class="markdownTableBodyNone">Enable thread_system integration    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>LOGGER_STANDALONE_MODE=ON</code>   </td><td class="markdownTableBodyNone"><code>ON</code>   </td><td class="markdownTableBodyNone">Use standalone std::jthread worker    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>BUILD_TESTS=ON</code>   </td><td class="markdownTableBodyNone"><code>BUILD_TESTS=ON</code>   </td><td class="markdownTableBodyNone"><code>ON</code>   </td><td class="markdownTableBodyNone">Build test suite    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>BUILD_EXAMPLES=ON</code>   </td><td class="markdownTableBodyNone"><code>BUILD_EXAMPLES=ON</code>   </td><td class="markdownTableBodyNone"><code>ON</code>   </td><td class="markdownTableBodyNone">Build examples   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md1573"></a>
Target Name Changes</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">v2.x Target   </th><th class="markdownTableHeadNone">v3.0 Target    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>logger_system::logger_system</code>   </td><td class="markdownTableBodyNone"><code>kcenon::logger</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>thread_system::thread_system</code>   </td><td class="markdownTableBodyNone"><code>kcenon::thread</code> (optional)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>kcenon::common</code> (required)   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md1574"></a>
Dependency Changes</h3>
<p><b>v2.x Dependency Tree:</b> </p><div class="fragment"><div class="line">logger_system</div>
<div class="line">└── thread_system (required)</div>
</div><!-- fragment --><p><b>v3.0 Dependency Tree:</b> </p><div class="fragment"><div class="line">logger_system</div>
<div class="line">├── common_system (required)</div>
<div class="line">└── thread_system (optional, for async logging with thread pool)</div>
<div class="line">    └── common_system (required)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1575"></a>
Version Migration</h2>
<h3><a class="anchor" id="autotoc_md1576"></a>
From v2.x to v3.0</h3>
<h4><a class="anchor" id="autotoc_md1577"></a>
Summary of Changes</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Aspect   </th><th class="markdownTableHeadNone">v2.x   </th><th class="markdownTableHeadNone">v3.0    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Namespace   </td><td class="markdownTableBodyNone"><code>logger_module</code>   </td><td class="markdownTableBodyNone"><code>kcenon::logger</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Interface   </td><td class="markdownTableBodyNone"><code>thread_module::logger_interface</code>   </td><td class="markdownTableBodyNone"><code>common::interfaces::ILogger</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Header Path   </td><td class="markdownTableBodyNone"><code>&lt;logger_system/...&gt;</code>   </td><td class="markdownTableBodyNone"><code>&lt;kcenon/logger/...&gt;</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Result Type   </td><td class="markdownTableBodyNone"><code>result_void</code>   </td><td class="markdownTableBodyNone"><code>common::VoidResult</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">thread_system   </td><td class="markdownTableBodyNone">Required   </td><td class="markdownTableBodyNone">Optional    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">C++ Standard   </td><td class="markdownTableBodyNone">C++17   </td><td class="markdownTableBodyNone">C++20   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md1578"></a>
1. Namespace Migration</h4>
<p><b>Old (v2.x):</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;logger_system/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;logger_system/logger_builder.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;logger_system/writers/console_writer.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>logger_module;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .use_template(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .build();</div>
</div><!-- fragment --><p><b>New (v3.0):</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/writers/console_writer.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .use_template(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .build();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1579"></a>
2. Interface Migration</h4>
<p><b>Old (v2.x):</b> </p><div class="fragment"><div class="line"><span class="keyword">class </span>logger : <span class="keyword">public</span> thread_module::logger_interface {</div>
<div class="line">    <span class="comment">// Deprecated: result_void is replaced by common::VoidResult</span></div>
<div class="line">    result_void log(thread_module::log_level level,</div>
<div class="line">                    <span class="keyword">const</span> std::string&amp; message) <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line">logger-&gt;log(thread_module::log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
</div><!-- fragment --><p><b>New (v3.0):</b> </p><div class="fragment"><div class="line"><span class="keyword">class </span>logger : <span class="keyword">public</span> common::interfaces::ILogger {</div>
<div class="line">    common::VoidResult log(common::interfaces::log_level level,</div>
<div class="line">                           <span class="keyword">const</span> std::string&amp; message) <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage with ILogger interface (recommended)</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or with native API (backward compatible)</span></div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1580"></a>
3. Dual API Support</h4>
<p>v3.0 provides both ILogger interface and native API:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .use_template(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .add_writer(<span class="stringliteral">&quot;console&quot;</span>, std::make_unique&lt;console_writer&gt;())</div>
<div class="line">    .build()</div>
<div class="line">    .value();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ILogger interface (standardized, recommended for new code)</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Using ILogger interface&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// With C++20 source_location (automatic)</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::debug, <span class="stringliteral">&quot;Source location captured automatically&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Native API (backward compatible)</span></div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Using native API&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Note: Manual source location (__FILE__, __LINE__, __func__) is deprecated.</span></div>
<div class="line"><span class="comment">// Source location is now auto-captured. This API will be removed in v3.0.0.</span></div>
<div class="line">logger-&gt;log(log_level::error, <span class="stringliteral">&quot;Error message&quot;</span>);</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1581"></a>
4. Result Type Migration</h4>
<p><b>Old (v2.x):</b> </p><div class="fragment"><div class="line">result_void result = logger-&gt;log(level, message);</div>
<div class="line"><span class="keywordflow">if</span> (!result) {  <span class="comment">// boolean conversion</span></div>
<div class="line">    std::cerr &lt;&lt; result.error().message() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>New (v3.0):</b> </p><div class="fragment"><div class="line">common::VoidResult result = logger-&gt;log(level, message);</div>
<div class="line"><span class="keywordflow">if</span> (result.is_err()) {  <span class="comment">// Use is_err() instead of boolean conversion</span></div>
<div class="line">    std::cerr &lt;&lt; result.error().message &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;  <span class="comment">// Note: .message not .message()</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or check for success</span></div>
<div class="line"><span class="keywordflow">if</span> (result.is_ok()) {</div>
<div class="line">    <span class="comment">// Operation succeeded</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Creating results:</span></div>
<div class="line"><span class="comment">// Old: return result_void();            or return {};</span></div>
<div class="line"><span class="comment">// New: return common::ok();</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Old: return result_void(code, msg);   or return make_logger_error(code, msg);</span></div>
<div class="line"><span class="comment">// New: return make_logger_void_result(code, msg);</span></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1582"></a>
5. thread_system Dependency Changes</h4>
<p><b>Old (v2.x):</b> </p><div class="fragment"><div class="line"><span class="comment">// thread_system was required</span></div>
<div class="line"><span class="comment">// CMakeLists.txt</span></div>
<div class="line">find_package(thread_system REQUIRED)</div>
<div class="line">target_link_libraries(your_app PRIVATE thread_system::thread_system)</div>
</div><!-- fragment --><p><b>New (v3.0):</b> </p><div class="fragment"><div class="line"><span class="comment">// thread_system is now optional</span></div>
<div class="line"><span class="comment">// CMakeLists.txt</span></div>
<div class="line">find_package(common_system REQUIRED)  <span class="preprocessor"># Required</span></div>
<div class="line">find_package(logger_system REQUIRED)</div>
<div class="line"><span class="preprocessor"># find_package(thread_system OPTIONAL)  # Only if needed</span></div>
<div class="line"> </div>
<div class="line">target_link_libraries(your_app PRIVATE</div>
<div class="line">    kcenon::common</div>
<div class="line">    kcenon::logger</div>
<div class="line">)</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1583"></a>
6. Backend Selection (New in v3.0)</h4>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Standalone mode (default, no thread_system needed)</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .with_standalone_backend()  <span class="comment">// Uses std::jthread</span></div>
<div class="line">    .build();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Custom backend</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .with_backend(std::make_unique&lt;my_custom_backend&gt;())</div>
<div class="line">    .build();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1584"></a>
7. C++20 Source Location</h4>
<p><b>New in v3.0:</b> </p><div class="fragment"><div class="line"><span class="comment">// Source location is automatically captured</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Debug message&quot;</span>);</div>
<div class="line"><span class="comment">// Output: [INFO] [main.cpp:42] [main()] Debug message</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Explicit source location</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Message&quot;</span>,</div>
<div class="line">            common::source_location::current());</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1585"></a>
8. Configuration Strategies (Enhanced in v3.0)</h4>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Deployment strategy</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .for_environment(deployment_env::production)  <span class="comment">// New in v3.0</span></div>
<div class="line">    .build();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Performance strategy</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .with_performance_tuning(performance_level::high_throughput)  <span class="comment">// New in v3.0</span></div>
<div class="line">    .build();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Environment variable configuration</span></div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .auto_configure()  <span class="comment">// Reads LOG_* environment variables</span></div>
<div class="line">    .build();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1586"></a>
9. Monitoring Integration (New in v3.0)</h4>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;kcenon/monitoring/monitoring.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> monitor = std::make_shared&lt;kcenon::monitoring::monitoring&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .with_monitoring(monitor)  <span class="comment">// New in v3.0</span></div>
<div class="line">    .with_health_check_interval(std::chrono::seconds(30))</div>
<div class="line">    .build();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1587"></a>
Migration Script</h4>
<p>For automated migration, use this script pattern:</p>
<div class="fragment"><div class="line">#!/bin/bash</div>
<div class="line"># migrate_v2_to_v3.sh</div>
<div class="line"> </div>
<div class="line"># Update includes</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s|#include &lt;logger_system/|#include &lt;kcenon/logger/|g&#39; \</div>
<div class="line">    -e &#39;s|#include &quot;logger_system/|#include &quot;kcenon/logger/|g&#39;</div>
<div class="line"> </div>
<div class="line"># Update namespaces</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s|logger_module::|kcenon::logger::|g&#39; \</div>
<div class="line">    -e &#39;s|namespace logger_module|namespace kcenon::logger|g&#39; \</div>
<div class="line">    -e &#39;s|using namespace logger_module|using namespace kcenon::logger|g&#39;</div>
<div class="line"> </div>
<div class="line"># Update interface references</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s|thread_module::logger_interface|common::interfaces::ILogger|g&#39; \</div>
<div class="line">    -e &#39;s|thread_module::log_level|common::interfaces::log_level|g&#39;</div>
<div class="line"> </div>
<div class="line"># Update result types</div>
<div class="line">find . -name &quot;*.cpp&quot; -o -name &quot;*.h&quot; | xargs sed -i &#39;&#39; \</div>
<div class="line">    -e &#39;s|result_void|common::VoidResult|g&#39;</div>
</div><!-- fragment --><hr  />
<h3><a class="anchor" id="autotoc_md1589"></a>
From v1.x to v2.x</h3>
<h4><a class="anchor" id="autotoc_md1590"></a>
1. Error Handling Migration</h4>
<p><b>Old (v1.x):</b> </p><div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    logger-&gt;add_writer(<span class="keyword">new</span> file_writer(<span class="stringliteral">&quot;app.log&quot;</span>));</div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>New (v2.x):</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> result = logger-&gt;add_writer(std::make_unique&lt;file_writer&gt;(<span class="stringliteral">&quot;app.log&quot;</span>));</div>
<div class="line"><span class="keywordflow">if</span> (!result) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed: &quot;</span> &lt;&lt; result.error().message() &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1591"></a>
2. Memory Management Migration</h4>
<p><b>Old (v1.x):</b> </p><div class="fragment"><div class="line"><span class="comment">// Manual memory management</span></div>
<div class="line">base_writer* writer = <span class="keyword">new</span> file_writer(<span class="stringliteral">&quot;app.log&quot;</span>);</div>
<div class="line">logger-&gt;add_writer(writer);  <span class="comment">// Logger takes ownership</span></div>
<div class="line"><span class="comment">// Don&#39;t delete writer - logger owns it</span></div>
</div><!-- fragment --><p><b>New (v2.x):</b> </p><div class="fragment"><div class="line"><span class="comment">// RAII with unique_ptr</span></div>
<div class="line"><span class="keyword">auto</span> writer = std::make_unique&lt;file_writer&gt;(<span class="stringliteral">&quot;app.log&quot;</span>);</div>
<div class="line">logger-&gt;add_writer(std::move(writer));  <span class="comment">// Explicit ownership transfer</span></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1592"></a>
3. Configuration Migration</h4>
<p><b>Old (v1.x):</b> </p><div class="fragment"><div class="line">logger* log = <span class="keyword">new</span> logger();</div>
<div class="line">log-&gt;set_min_level(log_level::info);</div>
<div class="line">log-&gt;set_async(<span class="keyword">true</span>);</div>
<div class="line">log-&gt;set_buffer_size(10000);</div>
<div class="line">log-&gt;add_console_writer();</div>
<div class="line">log-&gt;add_file_writer(<span class="stringliteral">&quot;app.log&quot;</span>);</div>
</div><!-- fragment --><p><b>New (v2.x):</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> log = logger_builder()</div>
<div class="line">    .with_min_level(log_level::info)</div>
<div class="line">    .with_async_mode(<span class="keyword">true</span>)</div>
<div class="line">    .with_buffer_size(10000)</div>
<div class="line">    .with_console_writer()</div>
<div class="line">    .with_file_writer(<span class="stringliteral">&quot;app.log&quot;</span>)</div>
<div class="line">    .build();</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1593"></a>
4. Logging API Migration</h4>
<p><b>Old (v1.x):</b> </p><div class="fragment"><div class="line">LOG_INFO(logger, <span class="stringliteral">&quot;Message with %s&quot;</span>, param);</div>
<div class="line">LOG_DEBUG_F(logger, <span class="stringliteral">&quot;Formatted: {}&quot;</span>, value);</div>
</div><!-- fragment --><p><b>New (v2.x):</b> </p><div class="fragment"><div class="line">logger-&gt;info(<span class="stringliteral">&quot;Message with param&quot;</span>, {{<span class="stringliteral">&quot;param&quot;</span>, param}});</div>
<div class="line">logger-&gt;debug(<span class="stringliteral">&quot;Message&quot;</span>, {{<span class="stringliteral">&quot;value&quot;</span>, value}});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1594"></a>
API Changes</h2>
<h3><a class="anchor" id="autotoc_md1595"></a>
v3.0 API Changes Summary</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">v2.x   </th><th class="markdownTableHeadNone">v3.0   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>logger_module::logger</code>   </td><td class="markdownTableBodyNone"><code>kcenon::logger::logger</code>   </td><td class="markdownTableBodyNone">Namespace change    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>thread_module::logger_interface</code>   </td><td class="markdownTableBodyNone"><code>common::interfaces::ILogger</code>   </td><td class="markdownTableBodyNone">Interface change    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>thread_module::log_level</code>   </td><td class="markdownTableBodyNone"><code>common::interfaces::log_level</code>   </td><td class="markdownTableBodyNone">Level type change    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>result_void</code>   </td><td class="markdownTableBodyNone"><code>common::VoidResult</code>   </td><td class="markdownTableBodyNone">Result type change    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>set_min_level(level)</code>   </td><td class="markdownTableBodyNone"><code>set_level(level)</code>   </td><td class="markdownTableBodyNone">Method rename (deprecated)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>get_min_level()</code>   </td><td class="markdownTableBodyNone"><code>get_level()</code>   </td><td class="markdownTableBodyNone">Method rename (deprecated)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>log(level, msg, source_location)</code>   </td><td class="markdownTableBodyNone">New C++20 overload    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>with_standalone_backend()</code>   </td><td class="markdownTableBodyNone">New backend selection    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>for_environment(env)</code>   </td><td class="markdownTableBodyNone">New configuration strategy    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>with_performance_tuning(level)</code>   </td><td class="markdownTableBodyNone">New configuration strategy    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone"><code>with_monitoring(monitor)</code>   </td><td class="markdownTableBodyNone">New monitoring integration   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md1596"></a>
Deprecated Native log_level API (Planned for Removal in v3.0.0)</h3>
<p>The following native <code>logger_system::log_level</code> APIs are deprecated in favor of <code>common::interfaces::log_level</code>:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Deprecated API   </th><th class="markdownTableHeadNone">Recommended Alternative   </th><th class="markdownTableHeadNone">Status    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>logger_system::log_level</code> enum   </td><td class="markdownTableBodyNone"><code>common::interfaces::log_level</code>   </td><td class="markdownTableBodyNone">Deprecated, will be removed in v3.0.0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>log(log_level, const std::string&amp;)</code>   </td><td class="markdownTableBodyNone"><code>log(common::interfaces::log_level, const std::string&amp;)</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>log(log_level, msg, file, line, func)</code>   </td><td class="markdownTableBodyNone"><code>log(common::interfaces::log_level, std::string_view, source_location)</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>log(log_level, msg, log_context)</code>   </td><td class="markdownTableBodyNone"><code>log(common::interfaces::log_level, std::string_view, source_location)</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>is_enabled(log_level)</code>   </td><td class="markdownTableBodyNone"><code>is_enabled(common::interfaces::log_level)</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>set_min_level(log_level)</code>   </td><td class="markdownTableBodyNone"><code>set_level(common::interfaces::log_level)</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>get_min_level()</code>   </td><td class="markdownTableBodyNone"><code>get_level()</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>log_level_to_string()</code>   </td><td class="markdownTableBodyNone"><code>common::interfaces::log_level_to_string()</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>string_to_log_level()</code>   </td><td class="markdownTableBodyNone"><code>common::interfaces::string_to_log_level()</code>   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>to_logger_system_level()</code>   </td><td class="markdownTableBodyNone">Use <code>common::interfaces::log_level</code> directly   </td><td class="markdownTableBodyNone">Deprecated    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>to_common_level()</code>   </td><td class="markdownTableBodyNone">Use <code>common::interfaces::log_level</code> directly   </td><td class="markdownTableBodyNone">Deprecated   </td></tr>
</table>
<p><b>Migration Example:</b></p>
<div class="fragment"><div class="line"><span class="comment">// OLD (deprecated)</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/interfaces/logger_types.h&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line">logger-&gt;set_min_level(log_level::debug);</div>
<div class="line"><span class="keywordflow">if</span> (logger-&gt;is_enabled(log_level::trace)) { ... }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW (recommended)</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/common/interfaces/logger_interface.h&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line">logger-&gt;set_level(common::interfaces::log_level::debug);</div>
<div class="line"><span class="keywordflow">if</span> (logger-&gt;is_enabled(common::interfaces::log_level::trace)) { ... }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or with using directive for brevity</span></div>
<div class="line"><span class="keyword">using </span>common::interfaces::log_level;</div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
</div><!-- fragment --><p><b>Timeline:</b></p><ul>
<li><b>Current</b>: APIs marked with <code>[[deprecated]]</code> attribute - compiler warnings will be generated</li>
<li><b>v3.0.0</b>: Deprecated APIs will be removed</li>
</ul>
<h3><a class="anchor" id="autotoc_md1597"></a>
Core Logger API</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">v1.x Method   </th><th class="markdownTableHeadNone">v2.x Equivalent   </th><th class="markdownTableHeadNone">v3.0 Equivalent    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>log(level, msg)</code>   </td><td class="markdownTableBodyNone"><code>log(level, msg, fields)</code>   </td><td class="markdownTableBodyNone"><code>log(level, msg)</code> via ILogger    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>set_min_level(level)</code>   </td><td class="markdownTableBodyNone">Builder: <code>with_min_level(level)</code>   </td><td class="markdownTableBodyNone"><code>set_level(level)</code> + Builder    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>add_writer(writer*)</code>   </td><td class="markdownTableBodyNone"><code>add_writer(unique_ptr&lt;writer&gt;)</code>   </td><td class="markdownTableBodyNone">Same as v2.x    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>flush()</code>   </td><td class="markdownTableBodyNone"><code>flush()</code> → result&lt;void&gt;   </td><td class="markdownTableBodyNone"><code>flush()</code> → VoidResult   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md1598"></a>
Configuration Migration</h2>
<h3><a class="anchor" id="autotoc_md1599"></a>
From INI/XML Configuration</h3>
<p><b>Old (config.ini):</b> </p><div class="fragment"><div class="line">[logger]</div>
<div class="line">level = INFO</div>
<div class="line">async = true</div>
<div class="line">buffer_size = 10000</div>
<div class="line"> </div>
<div class="line">[console]</div>
<div class="line">enabled = true</div>
<div class="line">colored = true</div>
<div class="line"> </div>
<div class="line">[file]</div>
<div class="line">enabled = true</div>
<div class="line">path = app.log</div>
<div class="line">rotation = 10485760</div>
<div class="line">max_files = 5</div>
</div><!-- fragment --><p><b>New (code-based, v3.0):</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/writers/console_writer.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/writers/rotating_file_writer.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> create_logger_from_config() {</div>
<div class="line">    <span class="keywordflow">return</span> logger_builder()</div>
<div class="line">        .with_min_level(log_level::info)</div>
<div class="line">        .with_async(<span class="keyword">true</span>)</div>
<div class="line">        .with_buffer_size(10000)</div>
<div class="line">        .add_writer(<span class="stringliteral">&quot;console&quot;</span>, std::make_unique&lt;console_writer&gt;(<span class="keyword">true</span>))</div>
<div class="line">        .add_writer(<span class="stringliteral">&quot;file&quot;</span>, std::make_unique&lt;rotating_file_writer&gt;(</div>
<div class="line">            <span class="stringliteral">&quot;app.log&quot;</span>, 10 * 1024 * 1024, 5))</div>
<div class="line">        .build();</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1600"></a>
Environment-based Configuration (v3.0)</h3>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> create_logger() {</div>
<div class="line">    <span class="keywordflow">return</span> logger_builder()</div>
<div class="line">        .auto_configure()  <span class="comment">// Reads LOG_* environment variables</span></div>
<div class="line">        .build();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Supported environment variables:</span></div>
<div class="line"><span class="comment">// LOG_LEVEL: trace, debug, info, warn, error, fatal</span></div>
<div class="line"><span class="comment">// LOG_ASYNC: true/false</span></div>
<div class="line"><span class="comment">// LOG_BUFFER_SIZE: buffer size in bytes</span></div>
<div class="line"><span class="comment">// LOG_BATCH_SIZE: batch size</span></div>
<div class="line"><span class="comment">// LOG_FLUSH_INTERVAL: flush interval in ms</span></div>
<div class="line"><span class="comment">// LOG_COLOR: true/false</span></div>
<div class="line"><span class="comment">// LOG_METRICS: true/false</span></div>
<div class="line"><span class="comment">// LOG_ENV: production/staging/development/testing</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1601"></a>
Migration from Other Libraries</h2>
<h3><a class="anchor" id="autotoc_md1602"></a>
From spdlog</h3>
<div class="fragment"><div class="line"><span class="comment">// spdlog</span></div>
<div class="line"><span class="preprocessor">#include &quot;spdlog/spdlog.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;spdlog/sinks/basic_file_sink.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = spdlog::basic_logger_mt(<span class="stringliteral">&quot;my_logger&quot;</span>, <span class="stringliteral">&quot;logs/my_log.txt&quot;</span>);</div>
<div class="line">logger-&gt;set_level(spdlog::level::info);</div>
<div class="line">logger-&gt;info(<span class="stringliteral">&quot;Hello {}&quot;</span>, <span class="stringliteral">&quot;World&quot;</span>);</div>
<div class="line">logger-&gt;error(<span class="stringliteral">&quot;Error code: {}&quot;</span>, 404);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Logger System v3.0 equivalent</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/writers/file_writer.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .with_min_level(log_level::info)</div>
<div class="line">    .add_writer(<span class="stringliteral">&quot;file&quot;</span>, std::make_unique&lt;file_writer&gt;(<span class="stringliteral">&quot;logs/my_log.txt&quot;</span>))</div>
<div class="line">    .build()</div>
<div class="line">    .value();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Using ILogger interface</span></div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;Hello World&quot;</span>);</div>
<div class="line">logger-&gt;log(common::interfaces::log_level::error, <span class="stringliteral">&quot;Error code: 404&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or using native API</span></div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Hello World&quot;</span>);</div>
<div class="line">logger-&gt;log(log_level::error, <span class="stringliteral">&quot;Error code: 404&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1603"></a>
From Boost.Log</h3>
<div class="fragment"><div class="line"><span class="comment">// Boost.Log</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/log/trivial.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/log/utility/setup/file.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>logging = boost::log;</div>
<div class="line"> </div>
<div class="line">logging::add_file_log(<span class="stringliteral">&quot;sample.log&quot;</span>);</div>
<div class="line">BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;An informational message&quot;</span>;</div>
<div class="line">BOOST_LOG_TRIVIAL(error) &lt;&lt; <span class="stringliteral">&quot;An error message&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Logger System v3.0 equivalent</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/writers/file_writer.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .add_writer(<span class="stringliteral">&quot;file&quot;</span>, std::make_unique&lt;file_writer&gt;(<span class="stringliteral">&quot;sample.log&quot;</span>))</div>
<div class="line">    .build()</div>
<div class="line">    .value();</div>
<div class="line"> </div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info, <span class="stringliteral">&quot;An informational message&quot;</span>);</div>
<div class="line">logger-&gt;log(common::interfaces::log_level::error, <span class="stringliteral">&quot;An error message&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1604"></a>
From Google glog</h3>
<div class="fragment"><div class="line"><span class="comment">// glog</span></div>
<div class="line"><span class="preprocessor">#include &lt;glog/logging.h&gt;</span></div>
<div class="line"> </div>
<div class="line">google::InitGoogleLogging(argv[0]);</div>
<div class="line">LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Found &quot;</span> &lt;&lt; num_cookies &lt;&lt; <span class="stringliteral">&quot; cookies&quot;</span>;</div>
<div class="line">LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error code: &quot;</span> &lt;&lt; error_code;</div>
<div class="line">CHECK(condition) &lt;&lt; <span class="stringliteral">&quot;Condition failed&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Logger System v3.0 equivalent</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> logger = logger_builder()</div>
<div class="line">    .use_template(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .build()</div>
<div class="line">    .value();</div>
<div class="line"> </div>
<div class="line">logger-&gt;log(common::interfaces::log_level::info,</div>
<div class="line">            <span class="stringliteral">&quot;Found &quot;</span> + std::to_string(num_cookies) + <span class="stringliteral">&quot; cookies&quot;</span>);</div>
<div class="line">logger-&gt;log(common::interfaces::log_level::error,</div>
<div class="line">            <span class="stringliteral">&quot;Error code: &quot;</span> + std::to_string(error_code));</div>
<div class="line"><span class="keywordflow">if</span> (!condition) {</div>
<div class="line">    logger-&gt;log(common::interfaces::log_level::fatal, <span class="stringliteral">&quot;Condition failed&quot;</span>);</div>
<div class="line">    std::abort();</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1605"></a>
Compatibility Wrappers</h2>
<h3><a class="anchor" id="autotoc_md1606"></a>
v2.x to v3.0 Compatibility Header</h3>
<div class="fragment"><div class="line"><span class="comment">// compatibility/logger_v2_compat.h</span></div>
<div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Namespace alias for gradual migration</span></div>
<div class="line"><span class="keyword">namespace </span>logger_module = kcenon::logger;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Type aliases</span></div>
<div class="line"><span class="keyword">using </span>result_void = common::VoidResult;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">using </span>result = common::Result&lt;T&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Level mapping</span></div>
<div class="line"><span class="keyword">namespace </span>thread_module {</div>
<div class="line">    <span class="keyword">using </span>log_level = common::interfaces::log_level;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage:</span></div>
<div class="line"><span class="comment">// 1. Include this header</span></div>
<div class="line"><span class="comment">// 2. Existing v2.x code will compile with minimal changes</span></div>
<div class="line"><span class="comment">// 3. Gradually update to new namespaces</span></div>
<div class="line"><span class="comment">// 4. Remove this header when migration is complete</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1607"></a>
Legacy API Wrapper (v1.x compatibility)</h3>
<div class="fragment"><div class="line"><span class="comment">// compatibility/logger_v1_compat.h</span></div>
<div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger_builder.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Legacy macros for backward compatibility</span></div>
<div class="line"><span class="preprocessor">#define LOG_INFO(logger, msg, ...) \</span></div>
<div class="line"><span class="preprocessor">    logger-&gt;log(common::interfaces::log_level::info, format_string(msg, ##__VA_ARGS__))</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define LOG_ERROR(logger, msg, ...) \</span></div>
<div class="line"><span class="preprocessor">    logger-&gt;log(common::interfaces::log_level::error, format_string(msg, ##__VA_ARGS__))</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define LOG_DEBUG(logger, msg, ...) \</span></div>
<div class="line"><span class="preprocessor">    logger-&gt;log(common::interfaces::log_level::debug, format_string(msg, ##__VA_ARGS__))</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Legacy function signatures</span></div>
<div class="line"><span class="keyword">namespace </span>logger_v1_compat {</div>
<div class="line"> </div>
<div class="line">    [[deprecated(<span class="stringliteral">&quot;Use kcenon::logger::logger_builder instead&quot;</span>)]]</div>
<div class="line">    <span class="keyword">inline</span> <span class="keyword">auto</span> create_logger() {</div>
<div class="line">        <span class="keywordflow">return</span> kcenon::logger::logger_builder().build();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1608"></a>
Step-by-Step Migration</h2>
<h3><a class="anchor" id="autotoc_md1609"></a>
Phase 1: Preparation</h3>
<ol type="1">
<li><b>Check C++ Standard</b> <div class="fragment"><div class="line"># Ensure C++20 is enabled</div>
<div class="line">set(CMAKE_CXX_STANDARD 20)</div>
<div class="line">set(CMAKE_CXX_STANDARD_REQUIRED ON)</div>
</div><!-- fragment --></li>
<li><b>Update Dependencies</b> <div class="fragment"><div class="line"># v3.0 requires common_system</div>
<div class="line">find_package(common_system REQUIRED)</div>
<div class="line">find_package(logger_system REQUIRED)</div>
<div class="line"> </div>
<div class="line"># thread_system is now optional</div>
<div class="line"># find_package(thread_system OPTIONAL)</div>
</div><!-- fragment --></li>
<li><b>Create Migration Branch</b> <div class="fragment"><div class="line">git checkout -b migration/logger-v3.0</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md1610"></a>
Phase 2: Namespace Migration</h3>
<ol type="1">
<li><b>Update Include Paths</b> <div class="fragment"><div class="line"><span class="comment">// OLD</span></div>
<div class="line"><span class="preprocessor">#include &lt;logger_system/logger.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW</span></div>
<div class="line"><span class="preprocessor">#include &lt;kcenon/logger/core/logger.h&gt;</span></div>
</div><!-- fragment --></li>
<li><b>Update Namespace Usage</b> <div class="fragment"><div class="line"><span class="comment">// OLD</span></div>
<div class="line"><span class="keyword">using namespace </span>logger_module;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW</span></div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md1611"></a>
Phase 3: Interface Migration</h3>
<ol type="1">
<li><b>Update Interface References</b> <div class="fragment"><div class="line"><span class="comment">// OLD</span></div>
<div class="line"><span class="keyword">class </span>MyLogger : <span class="keyword">public</span> thread_module::logger_interface { ... };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW</span></div>
<div class="line"><span class="keyword">class </span>MyLogger : <span class="keyword">public</span> common::interfaces::ILogger { ... };</div>
</div><!-- fragment --></li>
<li><b>Update Log Level Types</b> <div class="fragment"><div class="line"><span class="comment">// OLD</span></div>
<div class="line">thread_module::log_level::info</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEW</span></div>
<div class="line">common::interfaces::log_level::info</div>
<div class="line"><span class="comment">// or (native API)</span></div>
<div class="line">kcenon::logger::log_level::info</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md1612"></a>
Phase 4: Validation</h3>
<ol type="1">
<li><b>Run Tests</b> <div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DCMAKE_CXX_STANDARD=20</div>
<div class="line">make -j$(nproc)</div>
<div class="line">ctest --output-on-failure</div>
</div><!-- fragment --></li>
<li><b>Check Sanitizers</b> <div class="fragment"><div class="line">cmake .. -DCMAKE_CXX_FLAGS=&quot;-fsanitize=address,undefined&quot;</div>
<div class="line">make &amp;&amp; ctest</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md1613"></a>
Common Issues and Solutions</h2>
<h3><a class="anchor" id="autotoc_md1614"></a>
Issue 1: Namespace Not Found</h3>
<p><b>Error:</b> </p><div class="fragment"><div class="line">error: &#39;logger_module&#39; is not a namespace-name</div>
</div><!-- fragment --><p><b>Solution:</b> </p><div class="fragment"><div class="line"><span class="comment">// Change from</span></div>
<div class="line"><span class="keyword">using namespace </span>logger_module;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To</span></div>
<div class="line"><span class="keyword">using namespace </span>kcenon::logger;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1615"></a>
Issue 2: Interface Type Mismatch</h3>
<p><b>Error:</b> </p><div class="fragment"><div class="line">error: &#39;thread_module::logger_interface&#39; is not a base of &#39;kcenon::logger::logger&#39;</div>
</div><!-- fragment --><p><b>Solution:</b> </p><div class="fragment"><div class="line"><span class="comment">// Change from</span></div>
<div class="line">thread_module::logger_interface* logger = ...;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To</span></div>
<div class="line">common::interfaces::ILogger* logger = ...;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1616"></a>
Issue 3: Result Type Mismatch</h3>
<p><b>Error:</b> </p><div class="fragment"><div class="line">error: cannot convert &#39;common::VoidResult&#39; to &#39;result_void&#39;</div>
</div><!-- fragment --><p><b>Solution:</b> </p><div class="fragment"><div class="line"><span class="comment">// Change from</span></div>
<div class="line">result_void result = logger-&gt;log(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To</span></div>
<div class="line">common::VoidResult result = logger-&gt;log(...);</div>
<div class="line"><span class="comment">// Or simply</span></div>
<div class="line"><span class="keyword">auto</span> result = logger-&gt;log(...);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1617"></a>
Issue 4: Missing thread_system</h3>
<p><b>Error:</b> </p><div class="fragment"><div class="line">error: &#39;thread_module&#39; has not been declared</div>
</div><!-- fragment --><p><b>Solution:</b> </p><div class="fragment"><div class="line"><span class="comment">// v3.0 doesn&#39;t require thread_system</span></div>
<div class="line"><span class="comment">// Change from</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread_system/logger_interface.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// To</span></div>
<div class="line"><span class="preprocessor">#include &lt;common/interfaces/logger_interface.h&gt;</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1618"></a>
Issue 5: C++20 Not Enabled</h3>
<p><b>Error:</b> </p><div class="fragment"><div class="line">error: &#39;source_location&#39; is not a member of &#39;std&#39;</div>
</div><!-- fragment --><p><b>Solution:</b> </p><div class="fragment"><div class="line"># Ensure C++20 is enabled</div>
<div class="line">set(CMAKE_CXX_STANDARD 20)</div>
<div class="line">set(CMAKE_CXX_STANDARD_REQUIRED ON)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1619"></a>
Migration Checklist</h2>
<h3><a class="anchor" id="autotoc_md1620"></a>
v2.x to v3.0 Migration</h3>
<ul>
<li>[ ] Enable C++20 in build system</li>
<li>[ ] Update common_system dependency</li>
<li>[ ] Update include paths (<code>logger_system/</code> → <code>kcenon/logger/</code>)</li>
<li>[ ] Update namespace (<code>logger_module</code> → <code>kcenon::logger</code>)</li>
<li>[ ] Update interface references (<code>thread_module::logger_interface</code> → <code>common::interfaces::ILogger</code>)</li>
<li>[ ] Update log level types (<code>thread_module::log_level</code> → <code>common::interfaces::log_level</code>)</li>
<li>[ ] Update result types (<code>result_void</code> → <code>common::VoidResult</code>)</li>
<li>[ ] Remove thread_system dependency if not needed</li>
<li>[ ] Update deprecated method calls (<code>set_min_level</code> → <code>set_level</code>)</li>
<li>[ ] Test with sanitizers</li>
<li>[ ] Performance benchmarks</li>
<li>[ ] Update documentation</li>
</ul>
<h3><a class="anchor" id="autotoc_md1621"></a>
v1.x to v2.x Migration</h3>
<ul>
<li>[ ] Backup current codebase</li>
<li>[ ] Create migration branch</li>
<li>[ ] Add compatibility headers</li>
<li>[ ] Update build system (CMake/Make)</li>
<li>[ ] Migrate logger creation to builder pattern</li>
<li>[ ] Update writer management to smart pointers</li>
<li>[ ] Convert logging calls</li>
<li>[ ] Update configuration</li>
<li>[ ] Migrate tests</li>
<li>[ ] Remove deprecated code</li>
<li>[ ] Run full test suite</li>
<li>[ ] Performance benchmarks</li>
<li>[ ] Update documentation</li>
<li>[ ] Code review</li>
<li>[ ] Merge to main branch</li>
</ul>
<h2><a class="anchor" id="autotoc_md1622"></a>
Support and Resources</h2>
<ul>
<li><a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2guides_2QUICK__START.html">Quick Start Guide</a></li>
<li><a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2API__REFERENCE.html">API Reference</a></li>
<li><a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2advanced_2LOGGER__SYSTEM__ARCHITECTURE.html">Architecture Documentation</a></li>
<li><a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2guides_2BEST__PRACTICES.html">Best Practices Guide</a></li>
<li><a class="el" href="md__2home_2runner_2work_2logger__system_2logger__system_2docs_2integration_2THREAD__SYSTEM.html">thread_system Integration</a></li>
<li><a href="../../examples/">Example Code</a></li>
<li><a href="https://github.com/kcenon/logger_system/issues">Issue Tracker</a></li>
</ul>
<p>For migration assistance, please file an issue with the <code>migration</code> label.</p>
<hr  />
<p><em>Last Updated: 2026-01-23</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Feb 8 2026 04:33:14 for Logger System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
